<div *ngIf="product" class="p-4">
  <div
    class="bg-white rounded-lg shadow-lg overflow-hidden transition-transform transform hover:scale-105"
    routerLink="/shop/{{ product.id }}"
  >
    <img
      src="{{ product.pictureUrl }}"
      alt="Image of {{ product.name }}"
      class="w-full h-48 object-cover"
    />
    <div class="p-4">
      <h2 class="text-sm font-semibold uppercase">{{ product.name }}</h2>
      <p class="font-light text-gray-700">{{ product.price | currency }}</p>
    </div>

    <div class="p-4 border-t border-gray-200">
      <button
        mat-stroked-button
        class="w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition"
        (click)="$event.stopPropagation(); cartService.addItemsToCart(product)"
      >
        <mat-icon class="mr-2">add_shopping_cart</mat-icon> Add to cart
      </button>

      <!-- Admin-only actions -->
      <div *appIsAdmin class="mt-2">
        <button
          mat-stroked-button
          class="w-full bg-yellow-500 text-white py-2 rounded hover:bg-red-600 transition"
          (click)="$event.stopPropagation(); deleteProduct(product.id)"
        >
          <mat-icon class="mr-2">delete</mat-icon> Delete product
        </button>
      </div>
    </div>
  </div>
</div>
